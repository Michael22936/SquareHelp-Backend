<html xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="partials/head :: main-header"/>
<title>SquareHelp - Messages</title>
<link rel="stylesheet" href="/css/messages.css" />
</head>
<body>
<th:block th:replace="partials/navbar-dashboard :: dashboard-navbar"/>
<main class="container contentBg main-panel">
  
  <!-- Dashboard Content -->
  <div class="contentBg">
    <section>
      <th:block th:replace="partials/notiNsearch :: notiNsearch"/>
    </section>
    
    <section class="row">
      <div class="msgWrapper">
        <h3>Messages</h3>
        <button type="button" onclick="window.location.href = '/message/create'" class="btn btn-outline-primary mb-2"> <i
                class="far fa-plus-square"></i> </button>
    
        <!-- Table to display unique messages -->
        <table class="table table-hover table-dark text-center table-condensed">
          <thead>
          <tr>
            <th scope="col">To</th>
          </tr>
          </thead>
          <tbody>
          <div th:each="u : ${uniqueMsgs}">
            <tr th:onclick="'window.location.href = \'' + @{/message/view/{recipId}(recipId=${u.getId()})} + '\''"
                style="cursor: pointer;">
              <td><p th:text="${u.getUsername()}"></p></td>
            </tr>
          </div>
          </tbody>
        </table>
      </div>
    </section>
    
    <!-- Footer -->
    <section class="row">
      <th:block th:replace="partials/footer :: main-footer"/>
      <th:block th:replace="partials/searchbar :: navbar-search"/>
      <script src="/js/dashboard/dashboard.js"></script>
    </section>
  </div>

</main>
</body>
</html>
