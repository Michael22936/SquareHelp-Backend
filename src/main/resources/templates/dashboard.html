<html xmlns:th="http://www.thymeleaf.org">
  <th:block th:replace="partials/head :: main-header"/>
  <title>SquareHelp - dashboard.html</title>
  </head>
  <th:block th:replace="partials/navbar-dashboard :: dashboard-navbar"/>
  <link rel="stylesheet" th:href="@{/css/dashboard.css}" />
</head>
<body>
<div class="wrapper">

      <!--    ============= Modal Start======================-->
<!--  // Checks if users list is NULL-->
  <th:block th:if="${ListOfusers != null}">
      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Pick A User To View Profile</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <table class="table table-hover modal-body table-condensed">
              <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Username</th>
                <th scope="col">Email</th>
              </tr>
              </thead>
              <tbody th:each="user, iterStat : ${ListOfusers}">

              <tr class="clickable userRow" th:onclick="|window.location.href='/profile/${user.id}'|">
<!--              <button th:href="@{'/profile/' + ${user.id} }" class="">-->

                <th scope="row" th:text="${iterStat.count}"></th>
                <td th:text="${user.username}"></td>
                <td th:text="${user.email}"></td>
<!--                </button>-->
              </tr>

              </tbody>
            </table>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <!--            <button type="button" class="btn btn-primary">Save changes</button>-->
            </div>
          </div>
        </div>
      </div>
      <!--    // Modal End-->
    <script>
      setTimeout(function() {
        $('#exampleModal').modal();
        console.log("Modal fired!")
      }, 500);
    </script>
  </th:block>



  <h1>Dashboard</h1>
  <h3>Welcome <span th:text="${users.username}"></span> </h3>
  <h5>Day quit smoking: <span th:text="${smoke.day_quit_smoking}"></span></h5>
  
  <!--  <h1 th:text="${user}"></h1>-->
  <!--  <h1 th:text="${users.city}"></h1>-->
  <!--  <h1 th:text="${users.state}"></h1>-->
  
  <!--  <div th:each="user : ${users.username}">-->
  <!--    <h1 th:text="${user}"></h1>-->
  <div class="card custom-card-style">
    <p>Current city: <span th:text="${users.city}"></span>,<span th:text="${users.state}"></span></p>
  </div>
  
  <!--    <h1 th:text="${moneySaved}"></h1>-->
  <!--    <p>Points Earned: <h1 th:text="${smoke.points}"></h1></p>-->
  <!--    <p>Total days without smoking: <h1 th:text="${smoke.total_days_smoke_free}"></h1></p>-->
  <!--  </div>-->
  <!--  <h1 th:text="${moneySaved}"></h1>-->
  <!--  <h1 th:text="${smoke.points}"></h1>-->
  <!--  <h1 th:text="${smoke.total_days_smoke_free}"></h1>-->
  <!--  <span th:text="${smoke.points}"></span>-->
</div>


  <div class="card-group">
    <div class="card custom-card-style2">
      <div class="card-body">
        <h5 class="card-title"><p>Average Points Earned: </p></h5>
        <p class="card-text"><span th:text="${smoke.points}"></span></p>
      </div>
      <div class="card-footer">
        <small class="text-muted">Last updated (x) mins ago</small>
      </div>
    </div>
    <div class="card custom-card-style2">
      <div class="card-body">
        <h5 class="card-title"><p>Average of Total Days - Smoke Free </p></h5>
        <p class="card-text"><span th:text="${smoke.total_days_smoke_free}"></span></p>
      </div>
      <div class="card-footer">
        <small class="text-muted">Last updated (x) mins ago</small>
      </div>
    </div>
    <div class="card custom-card-style2">
      <div class="card-body">
        <h5 class="card-title">Average Cigarette Cost saved: </h5>
        <p class="card-text"><span th:text="${smoke.cost_of_cigs_saved}"></span></p>
      </div>
      <div class="card-footer">
        <small class="text-muted">Last updated (x) mins ago</small>
      </div>
    </div>
</div>

<a class="btn btn-primary" th:href="@{'/message/'+ ${users.id}}"> Go to Message Page</a>

<<<<<<< HEAD

=======
<th:block th:replace="partials/footer :: main-footer"/>
>>>>>>> 3694552740baeda9576c7b196592eae43cf905bb
<script src="/js/dashboard/dashboard.js"></script>

</body>
</html>